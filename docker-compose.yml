services:
  weathernow:
    build: .
    container_name: weathernow
    restart: unless-stopped
    ports:
      - "8080:3000"
    volumes:
      - ./music:/app/music:ro
    environment:
      - TZ=America/New_York
      # Change this before deploying!
      - ADMIN_PASSWORD=weathernow
      - PORT=3000
  # ── Cloudflare Tunnel (uncomment to expose publicly) ──────────
  # cloudflared:
  #   image: cloudflare/cloudflared:latest
  #   container_name: weathernow-tunnel
  #   restart: unless-stopped
  #   command: tunnel --no-autoupdate run --token ${CLOUDFLARE_TUNNEL_TOKEN}
  #   depends_on:
  #     - weathernow
  #   environment:
  #     - CLOUDFLARE_TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN}
