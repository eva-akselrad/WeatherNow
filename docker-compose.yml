version: "3.9"

services:
  weathernow:
    build: .
    container_name: weathernow
    restart: unless-stopped
    ports:
      - "8080:80" # Change left side to expose on a different host port
    volumes:
      # Mount your local music folder so you can add/remove tracks without rebuild.
      # Edit the left side to point at wherever your MP3s live on the host.
      - ./music:/usr/share/nginx/html/music:ro
    environment:
      - TZ=America/New_York # Set your timezone for accurate clock display
  # ── Optional: Cloudflare Tunnel sidecar ──────────────────────────
  # Uncomment this block to expose the app publicly via a Cloudflare Tunnel
  # without opening any firewall ports.  Requires a free Cloudflare account.
  # See README.md → "Cloudflare Tunnel" for setup steps.
  #
  # cloudflared:
  #   image: cloudflare/cloudflared:latest
  #   container_name: weathernow-tunnel
  #   restart: unless-stopped
  #   command: tunnel --no-autoupdate run --token ${CLOUDFLARE_TUNNEL_TOKEN}
  #   depends_on:
  #     - weathernow
  #   environment:
  #     - CLOUDFLARE_TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN}
